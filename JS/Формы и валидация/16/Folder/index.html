<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Пример валидации</title>
</head>
<body>

<form id="myForm">
    <label for="email">Email:</label>
    <input type="email" id="email" required>
    <input type="submit" value="Отправить">
</form>

<script>
    const form = document.getElementById('myForm');
    const emailInput = document.getElementById('email');

    emailInput.addEventListener('input', function() {
        // Очистка предыдущего сообщения
        emailInput.setCustomValidity('');

        // Проверка, является ли введенное значение корректным адресом электронной почты
        if (!emailInput.validity.valid) {
            emailInput.setCustomValidity('Пожалуйста, введите корректный адрес электронной почты.');
        }
    });

    form.addEventListener('submit', function(event) {
        if (!emailInput.validity.valid) {
            event.preventDefault(); // Отменяем отправку формы, если есть ошибки
            emailInput.reportValidity(); // Отображаем сообщение об ошибке
        }
    });
</script>

</body>
</html>