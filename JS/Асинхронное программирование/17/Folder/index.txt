В JavaScript порядок выполнения макрозадач и микрозадач определяется тем, как работает главный цикл событий (event loop). Давайте 
разберём, что такое макрозадачи и микрозадачи, и как они выполняются.

Макрозадачи (macrotasks)
Макрозадачи — это задачи, которые добавляются в очередь событий и выполняются последовательно. К ним относятся:
- Вызовы функции `setTimeout`
- Вызовы функции `setInterval`
- События (например, клики мышью)
- Весь код, который запускается в глобальной области видимости

Микрозадачи (microtasks)
Микрозадачи — это задачи, которые выполняются перед выполнением следующей макрозадачи. К ним относятся:
- Промисы (обработчики `then`, `catch`, `finally`)
- Вызов `MutationObserver`

Порядок выполнения
1. Выполняется все синхронное (глобальное) код.
2. Проверяется очередь микрозадач:
- Выполняются все микрозадачи из очереди, пока она не опустеет.
3. Проверяется очередь макрозадач:
- Выполняется одна макрозадача из очереди.
4. Повторяются шаги 2-3 до тех пор, пока есть задачи для выполнения.